{let t=function(t,e){new Noty({theme:"relax",text:e,type:t,layout:"topRight",timeout:1500}).show()},e=function(){$.each($(" .delete-post-button"),(t,e)=>{s(e)})},n=function(){let e=$("#new-post-form");e.submit((function(n){n.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:e.serialize(),success:function(e){let n=o(e.data);console.log(e.data.username),$("#posts-list-container > ul").prepend(n),s($(" .delete-post-button",n)),createComment($(" .new-comment-form",n)),CommonLikeFunctions.LikeEventSetter($(" .like-button-form",n)),t("success","Successfully Posted!!")},error:function(e){t("error","Error in posting status!!"),console.log(e.responseText)}})}))},o=function(t){return $(`<li id="post-${t.post._id}">\n                    <p>\n                        <small>\n                            <a class="delete-post-button" href="/posts/destroy/${t.post._id}">X</a>\n                        </small>\n                        <small>\n                            ${t.username} says :\n                        </small>\n                        ${t.post.content}\n                        <form class="like-button-form" action="/likes/toggle/?id=${t.post._id}&type=Post" method="POST">\n                        <span id="like-${t.post._id}">${t.post.likes.length}</span>&nbsp;<button type="submit" >Like</button>\n                        </form>\n                        <br>\n                    </p>\n                    <div id="post-comments">\n                            <div class="post-comments-list">\n                                    <ul id ="post-comments-${t.post._id}">\n                                    </ul>\n                                </div>\n                            <form action="/comments/create" class="new-comment-form" method="POST">\n                                <input type="text" name="content" placeholder="Write comment..." required></textarea>\n                                <input type="hidden" name="post" value="${t.post._id}">\n                                <input type="submit" value = "Add Comment" >\n                            </form>\n                        \n                    </div>\n                    \n                </li>`)},s=function(e){$(e).click((function(n){n.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$("#post-"+e.data.post_id).remove(),t("success","Post deleted!!")},error:function(e){t("error","Error in deleting Post!!"),console.log("Error:",err.responseText)}})}))};n(),e()}