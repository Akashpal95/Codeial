{let e=function(e,t){new Noty({theme:"relax",text:t,type:e,layout:"topRight",timeout:1500}).show()},t=function(){console.log("Events on comments are being set!!"),$.each($(".new-comment-form"),(e,t)=>{createComment($(t))}),$.each($(" .delete-comment-button"),(e,t)=>{o($(t))})};var createComment=function(t){console.log("Create Comment!!"),t.submit((function(m){m.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:t.serialize(),success:function(t){let m=n(t.data);$("#post-comments-"+t.data.comment.post).append(m),o($(" .delete-comment-button",m)),CommonLikeFunctions.LikeEventSetter($(" .like-button-form",m)),e("success","Comment Added!!")},error:function(t){e("error","Error in adding comment!!"),console.log("Error : ",t.responseText)}})}))};let n=function(e){return $(`<li id="comment-${e.comment._id}">\n                    <p>\n                        <small>\n                            <a class= "delete-comment-button" href="/comments/destroy/${e.comment._id}">X</a>\n                        </small>\n                        <small>\n                            ${e.username} says:\n                        </small>\n                        ${e.comment.content}\n                        <form class="like-button-form" action="/likes/toggle/?id=${e.comment._id}&type=Comment" method="POST">\n                          <span id="like-${e.comment._id}">${e.comment.likes.length}</span>&nbsp;<button type="submit" >Like</button>\n                        </form>\n                        <br>\n                    </p>\n                </li>`)},o=function(t){t.click((function(n){n.preventDefault(),$.ajax({type:"get",url:t.prop("href"),success:function(t){$("#comment-"+t.data.comment_id).remove(),e("success","Comment Deleted!!")},error:function(t){e("error","Error in deleting comment!!"),console.log("Error : ",t.responseText)}})}))};t()}